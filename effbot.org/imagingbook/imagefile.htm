<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml"><link rel="shortcut icon" href="/media/img/effbot.ico"><link rel="stylesheet" href="/media/css/effbot-min.css" type="text/css" media="screen"><link rel="stylesheet" href="/media/css/effbotprint-min.css" type="text/css" media="print"><title>The ImageFile&nbsp;Module</title></head><body data-page-id="438"><div id="doc2" class="yui-t2"><div id="hd"></div><div id="bd"><div id="yui-main"><div class="yui-b"><div class="content"><div class="yui-g"><p><a href="imageenhance.htm">back</a>&#160;<a href="imagefileio.htm">next</a></p><h1 class="maintitle">The ImageFile&nbsp;Module</h1></div><div class="yui-ge"><div class="yui-u first"><p>The <b>ImageFile</b> module provides support functions for the
image open and save functions.</p><p>In addition, it provides a <b>Parser</b> class which can be
used to decode an image piece by piece (e.g. while receiving
it over a network connection).  This class implements the same
consumer interface as the standard <b>sgmllib</b> and
<b>xmllib</b> modules.</p><h2 id="example">Example&#160;<a class="nav" href="#example" title="bookmark!">#</a></h2><div class="example">
<b>Parse An Image</b>
<pre class="python">
<span class="pykeyword">import</span> ImageFile

fp = open(<span class="pystring">"lena.pgm"</span>, <span class="pystring">"rb"</span>)

p = ImageFile.Parser()

<span class="pykeyword">while</span> 1:
    s = fp.read(1024)
    <span class="pykeyword">if</span> <span class="pykeyword">not</span> s:
        <span class="pykeyword">break</span>
    p.feed(s)

im = p.close()

im.save(<span class="pystring">"copy.jpg"</span>)</pre></div><h2 id="functions">Functions&#160;<a class="nav" href="#functions" title="bookmark!">#</a></h2><h3 id="tag-ImageFile.Parser">Parser&#160;<a class="nav" href="#tag-ImageFile.Parser" title="bookmark!">#</a></h3><div class="class"><p><b>ImageFile.Parser()</b>
<span>&#8658; Parser instance</span></p><p>Creates a parser object. Parsers cannot be reused.</p></div><h2 id="methods">Methods&#160;<a class="nav" href="#methods" title="bookmark!">#</a></h2><h3 id="tag-ImageFile.Parser.feed">feed&#160;<a class="nav" href="#tag-ImageFile.Parser.feed" title="bookmark!">#</a></h3><div class="method" name="feed"><p><b>parser.feed(data)</b></p><p>Feed a string of data to the parser. This method may raise an
IOError exception.</p></div><h3 id="tag-ImageFile.Parser.close">close&#160;<a class="nav" href="#tag-ImageFile.Parser.close" title="bookmark!">#</a></h3><div class="method" name="close"><p><b>parser.close()</b>
<span>&#8658; image or None</span></p><p>Tells the parser to finish decoding. If the parser managed to
decode an image, it returns an <b>Image</b> object. Otherwise, this
method raises an IOError exception.</p><p class="note">
<b>Note:</b> If the file cannot be identified, the parser will raise
an IOError exception in the close method.  If the file can be
identified, but not decoded (for example, if the data is damaged, or
if it uses an unsupported compression method), the parser will raise
an IOError exception as soon as possible, either in feed or close.
</p></div></div><div class="yui-u">&#160;</div></div><div class="yui-g"><p><a href="imageenhance.htm">back</a>&#160;<a href="imagefileio.htm">next</a></p></div></div></div></div><div class="yui-b"><div id='menu'><ul><li><b><a href="/" title="Go to effbot.org.">::: effbot.org</a></b></li><li><b><a href="." title="Go to imagingbook index page.">::: imagingbook :::</a></b></li></ul><ul><li><b>::: contents</b></li></ul><ul><li><ul><li><a href="#example">Example</a></li><li><a href="#functions">Functions</a></li><li><ul><li><a href="#tag-ImageFile.Parser">Parser</a></li></ul></li><li><a href="#methods">Methods</a></li><li><ul><li><a href="#tag-ImageFile.Parser.feed">feed</a></li><li><a href="#tag-ImageFile.Parser.close">close</a></li></ul></li></ul></li></ul></div></div></div><div id="ft"><p><a href="http://www.djangoproject.com/"><img src="/media/img/djangosite80x15.gif" border="0" alt="A Django site." title="A Django site." style="vertical-align: bottom;" width="80" height="15" ></a>
rendered by a <a href="http://www.djangoproject.com/">django</a> application.  hosted by <a href="http://www.webfaction.com/shared_hosting?affiliate=slab">webfaction</a>.</p></div></div><script src="/media/js/effbot-min.js" type="text/javascript"></script></body></html>
