<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml"><link rel="shortcut icon" href="/media/img/effbot.ico"><link rel="stylesheet" href="/media/css/effbot-min.css" type="text/css" media="screen"><link rel="stylesheet" href="/media/css/effbotprint-min.css" type="text/css" media="print"><title>Changes in ElementTree 1.3&nbsp;(preliminary)</title></head><body data-page-id="110"><div id="doc2" class="yui-t2"><div id="hd"></div><div id="bd"><div id="yui-main"><div class="yui-b"><div class="content"><div class="yui-g"><h1 class="maintitle">Changes in ElementTree 1.3&nbsp;(preliminary)</h1></div><div class="yui-ge"><div class="yui-u first"><p>Welcome to <a href="/">effbot.org</a>!</p><p>This page describes the changes that will take place in the next
ElementTree release.</p><p>You can get ElementTree development releases from
<a href="http://svn.effbot.org/public/tags">the public subversion repository</a>.</p><h2 id="changes-from-release-1-2-to-1-3">Changes from release 1.2 to 1.3&#160;<a class="nav" href="#changes-from-release-1-2-to-1-3" title="bookmark!">#</a></h2><p>The library requires Python 2.2 or newer (this <em>may</em>
change to 2.3 before release).</p><h3 id="additions">Additions&#160;<a class="nav" href="#additions" title="bookmark!">#</a></h3><p>The <strong>Element</strong> class now has an <strong>extend</strong> method.</p><p>The <strong>Element</strong> class now has an <strong>iter</strong> method; this replaces the old <strong>getiterator</strong> method.</p><p>The <strong>Element</strong> class now has an <strong>itertext</strong> method; this yields all inner text parts (that is, the <strong>text</strong> attribute for the element itself, and the <strong>text</strong> and <strong>tail</strong> attributes for all subchildren, in document order).</p><p>The <strong>Element</strong> factory is now a class; you can inherit directly from <strong>Element</strong>, if you want.</p><p>The path syntax now supports attibute predicates (tag[@attrib]).</p><p>The <strong>XMLParser</strong> class allows you to override the XML file
encoding.</p><p>All parser functions (<strong>parse</strong>, <strong>iterparse</strong>, <strong>XML</strong>, <strong>XMLID</strong>, <strong>fromstring</strong>, etc) take an optional <em>parser</em> argument.</p><p>The <strong>E</strong> element builder class <em>may</em> be added.</p><p>The <strong>write</strong> method has two new options; <strong>xml_declaration</strong> controls if an XML declaration should be included,
<strong>default_namespace</strong> controls whether a default namespace
should be used.</p><h3 id="removed-and-deprecated-features">Removed and Deprecated Features&#160;<a class="nav" href="#removed-and-deprecated-features" title="bookmark!">#</a></h3><p><strong>XMLTreeBuilder</strong> has been deprecated, use <strong>XMLParser</strong> instead.</p><p><strong>getiterator</strong> has been deprecated, use <strong>iter</strong> instead.</p><p><strong>getchildren</strong> has been deprecated, use direct iteration
over the container instead.  <strong>getchildren</strong> now gives a
warning.  The method will be removed in future versions.</p><p>&#8220;if elem&#8221; works as before, but now gives a warning; for portability, use explicit tests (&#8220;if len(elem)&#8221; or &#8220;if elem is not None&#8221;).  The behaviour <em>may</em> change in future versions.</p><p>The <strong>SgmlopTreeBuilder</strong> module has been removed; for maximum
performance, use <strong>cElementTree</strong> instead.  You can use cElementTree&#8217;s parser with ElementTree; see below.</p><p>The <strong>SimpleXMLTreeBuilder</strong> module has been removed.</p><p>The <strong>XMLTreeBuilder</strong> module has been removed.  For detailed namespace access, use <strong>iterparse</strong> instead.</p><h3 id="performance">Performance&#160;<a class="nav" href="#performance" title="bookmark!">#</a></h3><p>The serializer is now about twice as fast on common
examples.  Also, the serializer now puts all namespace declarations on the topmost element.</p><p>If you have cElementTree 1.0.6 or later, you can speed
up parsing by replacing ElementTree&#8217;s <strong>XMLParser</strong> class
with the one from cElementTree:</p><pre class="python"><span class="pykeyword">import</span> elementtree.ElementTree <span class="pykeyword">as</span> ET
<span class="pykeyword">import</span> cElementTree

<span class="pycomment"># use cET to build element trees</span>
ET.XMLParser = cElementTree.XMLParser</pre></div><div class="yui-u">&#160;</div></div><div class="yui-g"></div></div></div></div><div class="yui-b"><div id='menu'><ul><li><b><a href="/" title="Go to effbot.org.">::: effbot.org</a></b></li><li><b><a href="." title="Go to zone index page.">::: zone :::</a></b></li></ul><ul><li><b>::: contents</b></li></ul><ul><li><ul><li><a href="#changes-from-release-1-2-to-1-3">Changes from release 1.2 to 1.3</a></li><li><ul><li><a href="#additions">Additions</a></li><li><a href="#removed-and-deprecated-features">Removed and Deprecated Features</a></li><li><a href="#performance">Performance</a></li></ul></li></ul></li></ul></div></div></div><div id="ft"><p><a href="http://www.djangoproject.com/"><img src="/media/img/djangosite80x15.gif" border="0" alt="A Django site." title="A Django site." style="vertical-align: bottom;" width="80" height="15" ></a>
rendered by a <a href="http://www.djangoproject.com/">django</a> application.  hosted by <a href="http://www.webfaction.com/shared_hosting?affiliate=slab">webfaction</a>.</p></div></div><script src="/media/js/effbot-min.js" type="text/javascript"></script></body></html>
