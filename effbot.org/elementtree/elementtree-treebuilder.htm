<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml"><link rel="shortcut icon" href="/media/img/effbot.ico"><link rel="stylesheet" href="/media/css/effbot-min.css" type="text/css" media="screen"><link rel="stylesheet" href="/media/css/effbotprint-min.css" type="text/css" media="print"><title>The TreeBuilder&nbsp;API</title></head><body data-page-id="1991"><div id="doc2" class="yui-t2"><div id="hd"></div><div id="bd"><div id="yui-main"><div class="yui-b"><div class="content"><div class="yui-g"><h1 class="maintitle">The TreeBuilder&nbsp;API</h1></div><div class="yui-ge"><div class="yui-u first"><p class="info">Fredrik Lundh | August 2007</p><p>The <strong>TreeBuilder</strong> class takes a stream of start tag, end tag, and character data events, and builds an <a href="elementtree-element.htm"><strong>Element</strong></a> tree structure out of them.  The event stream is represented as method calls to the builder object.</p><p>The builder is commonly used with the <a href="elementtree-xmlparser.htm"><strong>XMLParser</strong></a> class, but can be used by any kind of XML-like parser or other event source.</p><h2 id="example">Example&#160;<a class="nav" href="#example" title="bookmark!">#</a></h2><p>This example creates a builder instance, and adds a single element to it:</p><pre class="python">builder = ET.TreeBuilder()

builder.start(<span class="pystring">"tag"</span>, {})
builder.data(<span class="pystring">"some text"</span>)
builder.end(<span class="pystring">"tag"</span>)

root = builder.close()

<span class="pykeyword">print</span> ET.tostring(root)</pre><p>This prints:</p><pre><code>&lt;tag&gt;some text&lt;/tag&gt;
</code></pre><h2 id="tag-ET.TreeBuilder">The TreeBuilder Class&#160;<a class="nav" href="#tag-ET.TreeBuilder" title="bookmark!">#</a></h2><p><strong>builder = TreeBuilder()</strong></p><p>Creates a tree builder instance.</p><h2 id="methods">Methods&#160;<a class="nav" href="#methods" title="bookmark!">#</a></h2><h3 id="tag-ET.TreeBuilder.start">start&#160;<a class="nav" href="#tag-ET.TreeBuilder.start" title="bookmark!">#</a></h3><p><strong>start(tag, attrib)</strong> &#8658; element</p><p>Opens a new element, with the given tag and attributes (given as a dictionary).</p><p>This method returns the new element.</p><h3 id="tag-ET.TreeBuilder.end">end&#160;<a class="nav" href="#tag-ET.TreeBuilder.end" title="bookmark!">#</a></h3><p><strong>end(tag)</strong> &#8658; element</p><p>Closes the current element.</p><p>The builder checks that the given tag matches the current element (as created by a matching call to <strong>start</strong>), and raises an assertion error if it doesn&#8217;t.</p><p>This method returns the closed element.</p><h3 id="tag-ET.TreeBuilder.data">data&#160;<a class="nav" href="#tag-ET.TreeBuilder.data" title="bookmark!">#</a></h3><p><strong>data(text)</strong></p><p>Adds text to the current element.  The text should be either an 8-bit string containing ASCII text, or a Unicode string.</p><h3 id="tag-ET.TreeBuilder.close">close&#160;<a class="nav" href="#tag-ET.TreeBuilder.close" title="bookmark!">#</a></h3><p><strong>close()</strong> &#8658; element</p><p>Flushes the builder buffers, and returns the root element.</p><p>The builder checks that the tree is correctly balanced (that is, that you&#8217;ve called <strong>end</strong> once for each call to <strong>start</strong>), and raises an assertion error if it isn&#8217;t.</p></div><div class="yui-u">&#160;</div></div><div class="yui-g"></div></div></div></div><div class="yui-b"><div id='menu'><ul><li><b><a href="/" title="Go to effbot.org.">::: effbot.org</a></b></li><li><b><a href="." title="Go to elementtree index page.">::: elementtree :::</a></b></li></ul><ul><li><b>::: contents</b></li></ul><ul><li><ul><li><a href="#example">Example</a></li><li><a href="#tag-ET.TreeBuilder">The TreeBuilder Class</a></li><li><a href="#methods">Methods</a></li><li><ul><li><a href="#tag-ET.TreeBuilder.start">start</a></li><li><a href="#tag-ET.TreeBuilder.end">end</a></li><li><a href="#tag-ET.TreeBuilder.data">data</a></li><li><a href="#tag-ET.TreeBuilder.close">close</a></li></ul></li></ul></li></ul></div></div></div><div id="ft"><p><a href="http://www.djangoproject.com/"><img src="/media/img/djangosite80x15.gif" border="0" alt="A Django site." title="A Django site." style="vertical-align: bottom;" width="80" height="15" ></a>
rendered by a <a href="http://www.djangoproject.com/">django</a> application.  hosted by <a href="http://www.webfaction.com/shared_hosting?affiliate=slab">webfaction</a>.</p></div></div><script src="/media/js/effbot-min.js" type="text/javascript"></script></body></html>
