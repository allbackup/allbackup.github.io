<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>shutil</title>
<style type='text/css'>body { font: 100% Georgia, Times, serif; } a.nav:link, a.nav:visited { color: #88f; } .nav { color: #88f; } a.nav:hover { color: blue; } .mark { color: #048444; }</style>
<meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
</head><body>
<table style='font-size: 8pt; background: #efe; padding: 5px; border: 1px solid #084; margin: 0px 0px 20px 0px;' border='0' cellspacing='0' cellpadding='0' width='100%'><tr><td align='left'>
an alternative python reference (<a href='/zone/pythondoc-lib.htm'>in progress</a>)
</td><td align='right'>
<a href='http://docs.python.org/lib/module-shutil.html'>original</a> :::
<a href='shutil.txt'>source</a> :::
<a href='/lib/index.html'>index</a>
</td></tr></table><table style='font-size: 8pt; background: white; padding: 5px; border: 1px solid #084; margin: 0px 0px 20px 0px;' border='0' cellspacing='0' cellpadding='0' width='100%%'><tr><td align='left'>
<b>note:</b> this page has been automatically converted from python.org
sources, and may contain errors and omissions introduced by the conversion
process.
</td></tr></table><div class="body"><div class="module">
<h1>shutil&#8212;High-level file operations</h1>

<div class="toc"><dl><dt>On this page:</dt><dd><a href="#example">Example</a></dd></dl></div><p>The <code>shutil</code> module offers
a number of high-level operations on files and collections of
files. In particular, functions are provided which support file
copying and removal.</p>

<p>Caveat: On MacOS, the resource fork and other metadata are not
used. For file copies, this means that resources will be lost and
file type and creator codes will not be correct.</p>
</div>
<dl><dt class="function" id="copyfile"><b>copyfile(src, dst)</b> <tt class="nav"><a class="nav" href="shutil.copyfile" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Copy the contents of the file named <var>src</var> to a file
named <var>dst</var>. The destination location must be writable;
otherwise, an <code>
exceptions.IOError</code> exception will be raised. If <var>dst</var>
already exists, it will be replaced. Special files such as
character or block devices and pipes cannot be copied with this
function. <var>src</var> and <var>dst</var> are path names given as
strings.</p>
</dd>
<dt class="function" id="copyfileobj"><b>copyfileobj(fsrc, fdst[, length])</b> <tt class="nav"><a class="nav" href="shutil.copyfileobj" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Copy the contents of the file-like object <var>fsrc</var> to the
file-like object <var>fdst</var>. The integer <var>length</var>, if
given, is the buffer size. In particular, a negative <var>
length</var> value means to copy the data without looping over the
source data in chunks; by default the data is read in chunks to
avoid uncontrolled memory consumption.</p>
</dd>
<dt class="function" id="copymode"><b>copymode(src, dst)</b> <tt class="nav"><a class="nav" href="shutil.copymode" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Copy the permission bits from <var>src</var> to <var>dst</var>.
The file contents, owner, and group are unaffected. <var>src</var>
and <var>dst</var> are path names given as strings.</p>
</dd>
<dt class="function" id="copystat"><b>copystat(src, dst)</b> <tt class="nav"><a class="nav" href="shutil.copystat" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Copy the permission bits, last access time, and last
modification time from <var>src</var> to <var>dst</var>. The file
contents, owner, and group are unaffected. <var>src</var> and <var>
dst</var> are path names given as strings.</p>
</dd>
<dt class="function" id="copy"><b>copy(src, dst)</b> <tt class="nav"><a class="nav" href="shutil.copy" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Copy the file <var>src</var> to the file or directory <var>
dst</var>. If <var>dst</var> is a directory, a file with the same
basename as <var>src</var> is created (or overwritten) in the
directory specified. Permission bits are copied. <var>src</var> and
<var>dst</var> are path names given as strings.</p>
</dd>
<dt class="function" id="copy2"><b>copy2(src, dst)</b> <tt class="nav"><a class="nav" href="shutil.copy2" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Similar to <a class="link" href="#copy"><code>copy</code></a>, but last
access time and last modification time are copied as well. This is
similar to the Unix command cp -p.</p>
</dd>
<dt class="function" id="copytree"><b>copytree(src, dst[, symlinks])</b> <tt class="nav"><a class="nav" href="shutil.copytree" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Recursively copy an entire directory tree rooted at <var>
src</var>. The destination directory, named by <var>dst</var>, must
not already exist; it will be created. Individual files are copied
using <a class="link" href="#copy2"><code>copy2</code></a>. If <var>
symlinks</var> is true, symbolic links in the source tree are
represented as symbolic links in the new tree; if false or omitted,
the contents of the linked files are copied to the new tree. If
exception(s) occur, an Error is raised with a list of reasons.</p>

<p>The source code for this should be considered an example rather
than a tool.</p>

<blockquote><span class="mark">@since</span> Changed in version
2.3: Error is raised if any exceptions occur during copying, rather
than printing a message.<br />
</blockquote>
</dd>
<dt class="function" id="rmtree"><b>rmtree(path[, ignore_errors[, onerror]])</b> <tt class="nav"><a class="nav" href="shutil.rmtree" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Delete an entire directory tree. If <var>ignore_errors</var> is
true, errors resulting from failed removals will be ignored; if
false or omitted, such errors are handled by calling a handler
specified by <var>onerror</var> or, if that is omitted, they raise
an exception.</p>

<p>If <var>onerror</var> is provided, it must be a callable that
accepts three parameters: <var>function</var>, <var>path</var>, and
<var>excinfo</var>. The first parameter, <var>function</var>, is
the function which raised the exception; it will be <code>os.listdir</code>, <code>os.remove</code> or <code>os.rmdir</code>. The second parameter, <var>
path</var>, will be the path name passed to <var>function</var>.
The third parameter, <var>excinfo</var>, will be the exception
information return by <code>
sys.exc_info</code>. Exceptions raised by <var>onerror</var> will not
be caught.</p>
</dd>
<dt class="function" id="move"><b>move(src, dst)</b> <tt class="nav"><a class="nav" href="shutil.move" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="function">
<p>Recursively move a file or directory to another location.</p>

<p>If the destination is on our current filesystem, then simply use
rename. Otherwise, copy src to the dst and then remove src.</p>

<blockquote><span class="mark">@since</span> New in version
2.3.<br />
</blockquote>
</dd>
<dt class="exception" id="Error"><b>exception Error</b> <tt class="nav"><a class="nav" href="shutil.Error" title="bookmark">#</a>|<a class="nav" href="#" title="edit/suggest changes">!</a>|<a class="nav" href="#" title="search for related examples">&amp;</a></tt></dt>

<dd class="exception">
<p>This exception collects exceptions that raised during a
mult-file operation. For <a class="link" href="#copytree"><code>
copytree</code></a>, the exception argument is a list of 3-tuples
(<var>srcname</var>, <var>dstname</var>, <var>exception</var>).</p>

<blockquote><span class="mark">@since</span> New in version
2.3.<br />
</blockquote>
</dd>
</dl><div class="text">
<h2 id="example">Example <a class="nav" href="#example">#</a></h2>

<p>This example is the implementation of the <a class="link" href="#copytree"><code>copytree</code></a> function, described above, with
the docstring omitted. It demonstrates many of the other functions
provided by this module.</p>

<pre>
def copytree(src, dst, symlinks=0):
    names = os.listdir(src)
    os.mkdir(dst)
    for name in names:
        srcname = os.path.join(src, name)
        dstname = os.path.join(dst, name)
        try:
            if symlinks and os.path.islink(srcname):
                linkto = os.readlink(srcname)
                os.symlink(linkto, dstname)
            elif os.path.isdir(srcname):
                copytree(srcname, dstname, symlinks)
            else:
                copy2(srcname, dstname)
        except (IOError, os.error), why:
            print "Can't copy %s to %s: %s" % (`srcname`, `dstname`, str(why))
</pre>
</div>
</div></body></html>
